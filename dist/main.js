!function(t){var e={};function a(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/dist/",a(a.s=1)}([function(t,e,a){},function(t,e,a){"use strict";function n(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}a.r(e);var i=function(){function t(e,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=e,this.canvas=a,this.pos=300,this.draw=this.draw.bind(this),this.al=new Image,this.al.src="./src/images/al-web.png",this.speed=0,this.maxHeight=100,this.minHeight=440}var e,a,i;return e=t,(a=[{key:"init",value:function(){var t=this;document.addEventListener("keydown",(function(e){var a=e.keyCode;38!==a&&40!==a||e.preventDefault(),t.move(a),t.draw()})),document.addEventListener("keyup",(function(e){t.speed=0}))}},{key:"draw",value:function(){var t=this.pos===this.maxHeight&&-5===this.speed,e=this.pos===this.minHeight&&5===this.speed;t||e||(this.pos+=this.speed),this.ctx.drawImage(this.al,100,this.pos)}},{key:"move",value:function(t){switch(t){case 40:this.speed=5;break;case 38:this.speed=-5}}}])&&n(e.prototype,a),i&&n(e,i),t}();function s(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=function(){function t(e,a,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.bgPos=0,this.speed=e,this.canvas=a,this.ctx=n,this.image=i,this.draw=this.draw.bind(this)}var e,a,n;return e=t,(a=[{key:"draw",value:function(){var t=this,e=new Image(480,480);e.src="./src/images/".concat(this.image,".png"),e.addEventListener("load",(function(){t.ctx.clearRect(0,0,t.canvas.width,t.canvas.height);var a=t.ctx.createPattern(e,"repeat");t.ctx.fillStyle=a,t.ctx.translate(-t.bgPos,0),t.ctx.fillRect(t.bgPos,0,t.canvas.width,t.canvas.height),t.ctx.translate(t.bgPos,0),t.bgPos+=t.speed}),!1)}}])&&s(e.prototype,a),n&&s(e,n),t}();function o(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.speed=1,this.width=800,this.height=480,this.canvasSand=document.getElementById("canvas-sand"),this.canvasWater=document.getElementById("canvas-water"),this.canvasSand.width=800,this.canvasSand.height=480,this.canvasWater.width=800,this.canvasWater.height=480,this.ctxSand=this.canvasSand.getContext("2d"),this.ctxWater=this.canvasWater.getContext("2d"),this.backgroundWater=new r(this.speed+.2,this.canvasWater,this.ctxWater,"water"),this.backgroundSand=new r(this.speed,this.canvasSand,this.ctxSand,"sand"),this.draw=this.draw.bind(this)}var e,a,n;return e=t,(a=[{key:"init",value:function(){this.draw()}},{key:"draw",value:function(){this.backgroundWater.draw(),this.backgroundSand.draw()}}])&&o(e.prototype,a),n&&o(e,n),t}();function h(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var u=["seal","fire-pit","person"],l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var e=Math.floor(Math.random()*u.length);this.type=u[e],this.posX=800,this.img=new Image,this.img.src="./src/images/".concat(this.type,".png"),this.y=Math.floor(380*Math.random())+100,this.hit=!1}var e,a,n;return e=t,n=[{key:"generate",value:function(e){return new t(e)}}],(a=[{key:"draw",value:function(t){t.drawImage(this.img,this.posX-=1,this.y)}}])&&h(e.prototype,a),n&&h(e,n),t}();function d(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var f=["bottle","bag"],v=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var e=Math.floor(Math.random()*f.length);this.type=f[e],this.posX=800,this.img=new Image,this.img.src="./src/images/".concat(this.type,".png"),this.y=Math.floor(380*Math.random())+100}var e,a,n;return e=t,n=[{key:"generate",value:function(e){return new t(e)}}],(a=[{key:"draw",value:function(t){t.drawImage(this.img,this.posX-=1,this.y)}}])&&d(e.prototype,a),n&&d(e,n),t}();function p(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var b=function(){function t(e,a,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=a,this.ctx=n,this.trash=[],this.obstacles=[],this.albatross=new i(this.ctx,this.canvas),this.draw=this.draw.bind(this),this.beach=new c,this.addObstacle=this.addObstacle.bind(this),this.addTrash=this.addTrash.bind(this),this.ctx.font="30px Arial",this.score=10}var e,a,n;return e=t,(a=[{key:"init",value:function(){this.albatross.init(),this.draw(),this.addObstacle(),this.addTrash(),this.beach.init()}},{key:"addObstacle",value:function(){var t=this,e=Math.round(2500*Math.random())+2e3;setTimeout((function(){t.obstacles=t.obstacles.concat(l.generate(t.ctx)),t.addObstacle()}),e)}},{key:"addTrash",value:function(){var t=this,e=Math.round(2500*Math.random())+2e3;setTimeout((function(){t.trash=t.trash.concat(v.generate(t.ctx)),t.addTrash()}),e)}},{key:"draw",value:function(){var t=this;if(this.beach.draw(),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.score<0)this.ctx.fillStyle="white",this.ctx.fillText("game over",10,40);else{var e={x:100,y:this.albatross.pos};this.obstacles.forEach((function(a,n){a.posX<-30&&delete t.obstacles[n],a.draw(t.ctx),e.y-a.y<30&&e.y-a.y>-30&&a.posX-100<=60&&a.posX-100>=-60&&!a.hit&&(a.hit=!0,t.score=t.score-1)})),this.obstacles=this.obstacles.filter((function(t){return t})),this.trash.forEach((function(a,n){a.posX<-30&&delete t.trash[n],e.y-a.y<30&&e.y-a.y>-30&&a.posX-100<=60&&a.posX-100>=-5?(t.score=t.score+1,delete t.trash[n]):a.draw(t.ctx)})),this.trash=this.trash.filter((function(t){return t})),this.albatross.draw(),this.ctx.fillStyle="white",this.ctx.fillText("Score: ".concat(this.score),10,40),requestAnimationFrame(this.draw)}}}])&&p(e.prototype,a),n&&p(e,n),t}();a(0);document.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("canvas-game");t.width=800,t.height=480;var e=t.getContext("2d");new b(1,t,e).init()}))}]);
//# sourceMappingURL=main.js.map